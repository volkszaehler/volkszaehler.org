!function(t){t.color={},t.color.make=function(e,i,n,o){var r={};return r.r=e||0,r.g=i||0,r.b=n||0,r.a=null!=o?o:1,r.add=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]+=e;return r.normalize()},r.scale=function(t,e){for(var i=0;i<t.length;++i)r[t.charAt(i)]*=e;return r.normalize()},r.toString=function(){return r.a>=1?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"},r.normalize=function(){function t(t,e,i){return e<t?t:e>i?i:e}return r.r=t(0,parseInt(r.r),255),r.g=t(0,parseInt(r.g),255),r.b=t(0,parseInt(r.b),255),r.a=t(0,r.a,1),r},r.clone=function(){return t.color.make(r.r,r.b,r.g,r.a)},r.normalize()},t.color.extract=function(e,i){var n;do{if(n=e.css(i).toLowerCase(),""!=n&&"transparent"!=n)break;e=e.parent()}while(e.length&&!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),t.color.parse(n)},t.color.parse=function(i){var n,o=t.color.make;if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return o(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return o(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return o(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));var r=t.trim(i).toLowerCase();return"transparent"==r?o(255,255,255,0):(n=e[r]||[0,0,0],o(n[0],n[1],n[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(t){function e(e,i){var n=i.children("."+e)[0];if(null==n&&(n=document.createElement("canvas"),n.className=e,t(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var o=this.context=n.getContext("2d"),r=window.devicePixelRatio||1,a=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;this.pixelRatio=r/a,this.resize(i.width(),i.height()),this.textContainer=null,this.text={},this._textCache={}}function i(i,o,r,a){function s(t,e){e=[gt].concat(e);for(var i=0;i<t.length;++i)t[i].apply(this,e)}function l(){for(var i={Canvas:e},n=0;n<a.length;++n){var o=a[n];o.init(gt,i),o.options&&t.extend(!0,ot,o.options)}}function h(e){t.extend(!0,ot,e),e&&e.colors&&(ot.colors=e.colors),null==ot.xaxis.color&&(ot.xaxis.color=t.color.parse(ot.grid.color).scale("a",.22).toString()),null==ot.yaxis.color&&(ot.yaxis.color=t.color.parse(ot.grid.color).scale("a",.22).toString()),null==ot.xaxis.tickColor&&(ot.xaxis.tickColor=ot.grid.tickColor||ot.xaxis.color),null==ot.yaxis.tickColor&&(ot.yaxis.tickColor=ot.grid.tickColor||ot.yaxis.color),null==ot.grid.borderColor&&(ot.grid.borderColor=ot.grid.color),null==ot.grid.tickColor&&(ot.grid.tickColor=t.color.parse(ot.grid.color).scale("a",.22).toString());var n,o,r,a=i.css("font-size"),l=a?+a.replace("px",""):13,h={style:i.css("font-style"),size:Math.round(.8*l),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")};for(r=ot.xaxes.length||1,n=0;n<r;++n)o=ot.xaxes[n],o&&!o.tickColor&&(o.tickColor=o.color),o=t.extend(!0,{},ot.xaxis,o),ot.xaxes[n]=o,o.font&&(o.font=t.extend({},h,o.font),o.font.color||(o.font.color=o.color),o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size)));for(r=ot.yaxes.length||1,n=0;n<r;++n)o=ot.yaxes[n],o&&!o.tickColor&&(o.tickColor=o.color),o=t.extend(!0,{},ot.yaxis,o),ot.yaxes[n]=o,o.font&&(o.font=t.extend({},h,o.font),o.font.color||(o.font.color=o.color),o.font.lineHeight||(o.font.lineHeight=Math.round(1.15*o.font.size)));for(ot.xaxis.noTicks&&null==ot.xaxis.ticks&&(ot.xaxis.ticks=ot.xaxis.noTicks),ot.yaxis.noTicks&&null==ot.yaxis.ticks&&(ot.yaxis.ticks=ot.yaxis.noTicks),ot.x2axis&&(ot.xaxes[1]=t.extend(!0,{},ot.xaxis,ot.x2axis),ot.xaxes[1].position="top",null==ot.x2axis.min&&(ot.xaxes[1].min=null),null==ot.x2axis.max&&(ot.xaxes[1].max=null)),ot.y2axis&&(ot.yaxes[1]=t.extend(!0,{},ot.yaxis,ot.y2axis),ot.yaxes[1].position="right",null==ot.y2axis.min&&(ot.yaxes[1].min=null),null==ot.y2axis.max&&(ot.yaxes[1].max=null)),ot.grid.coloredAreas&&(ot.grid.markings=ot.grid.coloredAreas),ot.grid.coloredAreasColor&&(ot.grid.markingsColor=ot.grid.coloredAreasColor),ot.lines&&t.extend(!0,ot.series.lines,ot.lines),ot.points&&t.extend(!0,ot.series.points,ot.points),ot.bars&&t.extend(!0,ot.series.bars,ot.bars),null!=ot.shadowSize&&(ot.series.shadowSize=ot.shadowSize),null!=ot.highlightColor&&(ot.series.highlightColor=ot.highlightColor),n=0;n<ot.xaxes.length;++n)g(ut,n+1).options=ot.xaxes[n];for(n=0;n<ot.yaxes.length;++n)g(ct,n+1).options=ot.yaxes[n];for(var u in mt)ot.hooks[u]&&ot.hooks[u].length&&(mt[u]=mt[u].concat(ot.hooks[u]));s(mt.processOptions,[ot])}function u(t){nt=c(t),x(),b()}function c(e){for(var i=[],n=0;n<e.length;++n){var o=t.extend(!0,{},ot.series);null!=e[n].data?(o.data=e[n].data,delete e[n].data,t.extend(!0,o,e[n]),e[n].data=o.data):o.data=e[n],i.push(o)}return i}function f(t,e){var i=t[e+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function d(){return t.grep(ut.concat(ct),function(t){return t})}function p(t){var e,i,n={};for(e=0;e<ut.length;++e)i=ut[e],i&&i.used&&(n["x"+i.n]=i.c2p(t.left));for(e=0;e<ct.length;++e)i=ct[e],i&&i.used&&(n["y"+i.n]=i.c2p(t.top));return void 0!==n.x1&&(n.x=n.x1),void 0!==n.y1&&(n.y=n.y1),n}function m(t){var e,i,n,o={};for(e=0;e<ut.length;++e)if(i=ut[e],i&&i.used&&(n="x"+i.n,null==t[n]&&1==i.n&&(n="x"),null!=t[n])){o.left=i.p2c(t[n]);break}for(e=0;e<ct.length;++e)if(i=ct[e],i&&i.used&&(n="y"+i.n,null==t[n]&&1==i.n&&(n="y"),null!=t[n])){o.top=i.p2c(t[n]);break}return o}function g(e,i){return e[i-1]||(e[i-1]={n:i,direction:e==ut?"x":"y",options:t.extend(!0,{},e==ut?ot.xaxis:ot.yaxis)}),e[i-1]}function x(){var e,i=nt.length,n=-1;for(e=0;e<nt.length;++e){var o=nt[e].color;null!=o&&(i--,"number"==typeof o&&o>n&&(n=o))}i<=n&&(i=n+1);var r,a=[],s=ot.colors,l=s.length,h=0;for(e=0;e<i;e++)r=t.color.parse(s[e%l]||"#666"),e%l==0&&e&&(h=h>=0?h<.5?-h-.2:0:-h),a[e]=r.scale("rgb",1+h);var u,c=0;for(e=0;e<nt.length;++e){if(u=nt[e],null==u.color?(u.color=a[c].toString(),++c):"number"==typeof u.color&&(u.color=a[u.color].toString()),null==u.lines.show){var d,p=!0;for(d in u)if(u[d]&&u[d].show){p=!1;break}p&&(u.lines.show=!0)}null==u.lines.zero&&(u.lines.zero=!!u.lines.fill),u.xaxis=g(ut,f(u,"x")),u.yaxis=g(ct,f(u,"y"))}}function b(){function e(t,e,i){e<t.datamin&&e!=-b&&(t.datamin=e),i>t.datamax&&i!=b&&(t.datamax=i)}var i,n,o,r,a,l,h,u,c,f,p,m,g=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,b=Number.MAX_VALUE;for(t.each(d(),function(t,e){e.datamin=g,e.datamax=x,e.used=!1}),i=0;i<nt.length;++i)a=nt[i],a.datapoints={points:[]},s(mt.processRawData,[a,a.data,a.datapoints]);for(i=0;i<nt.length;++i){if(a=nt[i],p=a.data,m=a.datapoints.format,!m){if(m=[],m.push({x:!0,number:!0,required:!0}),m.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var v=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);m.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:v}),a.bars.horizontal&&(delete m[m.length-1].y,m[m.length-1].x=!0)}a.datapoints.format=m}if(null==a.datapoints.pointsize){a.datapoints.pointsize=m.length,h=a.datapoints.pointsize,l=a.datapoints.points;var y=a.lines.show&&a.lines.steps;for(a.xaxis.used=a.yaxis.used=!0,n=o=0;n<p.length;++n,o+=h){f=p[n];var T=null==f;if(!T)for(r=0;r<h;++r)u=f[r],c=m[r],c&&(c.number&&null!=u&&(u=+u,isNaN(u)?u=null:u==1/0?u=b:u==-(1/0)&&(u=-b)),null==u&&(c.required&&(T=!0),null!=c.defaultValue&&(u=c.defaultValue))),l[o+r]=u;if(T)for(r=0;r<h;++r)u=l[o+r],null!=u&&(c=m[r],c.autoscale!==!1&&(c.x&&e(a.xaxis,u,u),c.y&&e(a.yaxis,u,u))),l[o+r]=null;else if(y&&o>0&&null!=l[o-h]&&l[o-h]!=l[o]&&l[o-h+1]!=l[o+1]){for(r=0;r<h;++r)l[o+h+r]=l[o+r];l[o+1]=l[o-h+1],o+=h}}}}for(i=0;i<nt.length;++i)a=nt[i],s(mt.processDatapoints,[a,a.datapoints]);for(i=0;i<nt.length;++i){a=nt[i],l=a.datapoints.points,h=a.datapoints.pointsize,m=a.datapoints.format;var w=g,k=g,M=x,S=x;for(n=0;n<l.length;n+=h)if(null!=l[n])for(r=0;r<h;++r)u=l[n+r],c=m[r],c&&c.autoscale!==!1&&u!=b&&u!=-b&&(c.x&&(u<w&&(w=u),u>M&&(M=u)),c.y&&(u<k&&(k=u),u>S&&(S=u)));if(a.bars.show){var z;switch(a.bars.align){case"left":z=0;break;case"right":z=-a.bars.barWidth;break;default:z=-a.bars.barWidth/2}a.bars.horizontal?(k+=z,S+=z+a.bars.barWidth):(w+=z,M+=z+a.bars.barWidth)}e(a.xaxis,w,M),e(a.yaxis,k,S)}t.each(d(),function(t,e){e.datamin==g&&(e.datamin=null),e.datamax==x&&(e.datamax=null)})}function v(){i.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==i.css("position")&&i.css("position","relative"),rt=new e("flot-base",i),at=new e("flot-overlay",i),lt=rt.context,ht=at.context,st=t(at.element).unbind();var n=i.data("plot");n&&(n.shutdown(),at.clear()),i.data("plot",gt)}function y(){ot.grid.hoverable&&(st.mousemove(J),st.bind("mouseleave",q)),ot.grid.clickable&&st.click(X),s(mt.bindEvents,[st])}function T(){bt&&clearTimeout(bt),st.unbind("mousemove",J),st.unbind("mouseleave",q),st.unbind("click",X),s(mt.shutdown,[st])}function w(t){function e(t){return t}var i,n,o=t.options.transform||e,r=t.options.inverseTransform;"x"==t.direction?(i=t.scale=dt/Math.abs(o(t.max)-o(t.min)),n=Math.min(o(t.max),o(t.min))):(i=t.scale=pt/Math.abs(o(t.max)-o(t.min)),i=-i,n=Math.max(o(t.max),o(t.min))),o==e?t.p2c=function(t){return(t-n)*i}:t.p2c=function(t){return(o(t)-n)*i},r?t.c2p=function(t){return r(n+t/i)}:t.c2p=function(t){return n+t/i}}function k(t){for(var e=t.options,i=t.ticks||[],n=e.labelWidth||0,o=e.labelHeight||0,r=n||("x"==t.direction?Math.floor(rt.width/(i.length||1)):null),a=t.direction+"Axis "+t.direction+t.n+"Axis",s="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+a,l=e.font||"flot-tick-label tickLabel",h=0;h<i.length;++h){var u=i[h];if(u.label){var c=rt.getTextInfo(s,u.label,l,null,r);n=Math.max(n,c.width),o=Math.max(o,c.height)}}t.labelWidth=e.labelWidth||n,t.labelHeight=e.labelHeight||o}function M(e){var i=e.labelWidth,n=e.labelHeight,o=e.options.position,r="x"===e.direction,a=e.options.tickLength,s=ot.grid.axisMargin,l=ot.grid.labelMargin,h=!0,u=!0,c=!0,f=!1;t.each(r?ut:ct,function(t,i){i&&(i.show||i.reserveSpace)&&(i===e?f=!0:i.options.position===o&&(f?u=!1:h=!1),f||(c=!1))}),u&&(s=0),null==a&&(a=c?"full":5),isNaN(+a)||(l+=+a),r?(n+=l,"bottom"==o?(ft.bottom+=n+s,e.box={top:rt.height-ft.bottom,height:n}):(e.box={top:ft.top+s,height:n},ft.top+=n+s)):(i+=l,"left"==o?(e.box={left:ft.left+s,width:i},ft.left+=i+s):(ft.right+=i+s,e.box={left:rt.width-ft.right,width:i})),e.position=o,e.tickLength=a,e.box.padding=l,e.innermost=h}function S(t){"x"==t.direction?(t.box.left=ft.left-t.labelWidth/2,t.box.width=rt.width-ft.left-ft.right+t.labelWidth):(t.box.top=ft.top-t.labelHeight/2,t.box.height=rt.height-ft.bottom-ft.top+t.labelHeight)}function z(){var e,i=ot.grid.minBorderMargin;if(null==i)for(i=0,e=0;e<nt.length;++e)nt[e].points.show&&(i=Math.max(i,2*(nt[e].points.radius+nt[e].points.lineWidth/2)));var n={left:i,right:i,top:i,bottom:i};t.each(d(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(n.left=Math.max(n.left,e.labelWidth/2),n.right=Math.max(n.right,e.labelWidth/2)):(n.bottom=Math.max(n.bottom,e.labelHeight/2),n.top=Math.max(n.top,e.labelHeight/2)))}),ft.left=Math.ceil(Math.max(n.left,ft.left)),ft.right=Math.ceil(Math.max(n.right,ft.right)),ft.top=Math.ceil(Math.max(n.top,ft.top)),ft.bottom=Math.ceil(Math.max(n.bottom,ft.bottom))}function C(){var e,i=d(),n=ot.grid.show;for(var o in ft){var r=ot.grid.margin||0;ft[o]="number"==typeof r?r:r[o]||0}s(mt.processOffset,[ft]);for(var o in ft)"object"==typeof ot.grid.borderWidth?ft[o]+=n?ot.grid.borderWidth[o]:0:ft[o]+=n?ot.grid.borderWidth:0;if(t.each(i,function(t,e){var i=e.options;e.show=null==i.show?e.used:i.show,e.reserveSpace=null==i.reserveSpace?e.show:i.reserveSpace,A(e)}),n){var a=t.grep(i,function(t){return t.show||t.reserveSpace});for(t.each(a,function(t,e){D(e),O(e),_(e,e.ticks),k(e)}),e=a.length-1;e>=0;--e)M(a[e]);z(),t.each(a,function(t,e){S(e)})}dt=rt.width-ft.left-ft.right,pt=rt.height-ft.bottom-ft.top,t.each(i,function(t,e){w(e)}),n&&F(),Y()}function A(t){var e=t.options,i=+(null!=e.min?e.min:t.datamin),n=+(null!=e.max?e.max:t.datamax),o=n-i;if(0==o){var r=0==n?1:.01;null==e.min&&(i-=r),null!=e.max&&null==e.min||(n+=r)}else{var a=e.autoscaleMargin;null!=a&&(null==e.min&&(i-=o*a,i<0&&null!=t.datamin&&t.datamin>=0&&(i=0)),null==e.max&&(n+=o*a,n>0&&null!=t.datamax&&t.datamax<=0&&(n=0)))}t.min=i,t.max=n}function D(e){var i,o=e.options;i="number"==typeof o.ticks&&o.ticks>0?o.ticks:.3*Math.sqrt("x"==e.direction?rt.width:rt.height);var r=(e.max-e.min)/i,a=-Math.floor(Math.log(r)/Math.LN10),s=o.tickDecimals;null!=s&&a>s&&(a=s);var l,h=Math.pow(10,-a),u=r/h;if(u<1.5?l=1:u<3?(l=2,u>2.25&&(null==s||a+1<=s)&&(l=2.5,++a)):l=u<7.5?5:10,l*=h,null!=o.minTickSize&&l<o.minTickSize&&(l=o.minTickSize),e.delta=r,e.tickDecimals=Math.max(0,null!=s?s:a),e.tickSize=o.tickSize||l,"time"==o.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(e.tickGenerator||(e.tickGenerator=function(t){var e,i=[],o=n(t.min,t.tickSize),r=0,a=Number.NaN;do e=a,a=o+r*t.tickSize,i.push(a),++r;while(a<t.max&&a!=e);return i},e.tickFormatter=function(t,e){var i=e.tickDecimals?Math.pow(10,e.tickDecimals):1,n=""+Math.round(t*i)/i;if(null!=e.tickDecimals){var o=n.indexOf("."),r=o==-1?0:n.length-o-1;if(r<e.tickDecimals)return(r?n:n+".")+(""+i).substr(1,e.tickDecimals-r)}return n}),t.isFunction(o.tickFormatter)&&(e.tickFormatter=function(t,e,i,n){return""+o.tickFormatter(t,e,i,n)}),null!=o.alignTicksWithAxis){var c=("x"==e.direction?ut:ct)[o.alignTicksWithAxis-1];if(c&&c.used&&c!=e){var f=e.tickGenerator(e);if(f.length>0&&(null==o.min&&(e.min=Math.min(e.min,f[0])),null==o.max&&f.length>1&&(e.max=Math.max(e.max,f[f.length-1]))),e.tickGenerator=function(t){var e,i,n=[];for(i=0;i<c.ticks.length;++i)e=(c.ticks[i].v-c.min)/(c.max-c.min),e=t.min+e*(t.max-t.min),n.push(e);return n},!e.mode&&null==o.tickDecimals){var d=Math.max(0,-Math.floor(Math.log(e.delta)/Math.LN10)+1),p=e.tickGenerator(e);p.length>1&&/\..*0$/.test((p[1]-p[0]).toFixed(d))||(e.tickDecimals=d)}}}}function O(e){var i=e.options.ticks,n=[];null==i||"number"==typeof i&&i>0?n=e.tickGenerator(e):i&&(n=t.isFunction(i)?i(e):i);var o,r;for(e.ticks=[],o=0;o<n.length;++o){var a=null,s=n[o];"object"==typeof s?(r=+s[0],s.length>1&&(a=s[1])):r=+s,null==a&&(a=e.tickFormatter(r,e,o,n)),isNaN(r)||e.ticks.push({v:r,label:a})}}function _(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function I(){rt.clear(),s(mt.drawBackground,[lt]);var t=ot.grid;t.show&&t.backgroundColor&&W(),t.show&&!t.aboveData&&P();for(var e=0;e<nt.length;++e)s(mt.drawSeries,[lt,nt[e]]),L(nt[e]);s(mt.draw,[lt]),t.show&&t.aboveData&&P(),rt.render(),B()}function E(t,e){for(var i,n,o,r,a=d(),s=0;s<a.length;++s)if(i=a[s],i.direction==e&&(r=e+i.n+"axis",t[r]||1!=i.n||(r=e+"axis"),t[r])){n=t[r].from,o=t[r].to;break}if(t[r]||(i="x"==e?ut[0]:ct[0],n=t[e+"1"],o=t[e+"2"]),null!=n&&null!=o&&n>o){var l=n;n=o,o=l}return{from:n,to:o,axis:i}}function W(){lt.save(),lt.translate(ft.left,ft.top),lt.fillStyle=it(ot.grid.backgroundColor,pt,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,dt,pt),lt.restore()}function P(){var e,i,n,o;lt.save(),lt.translate(ft.left,ft.top);var r=ot.grid.markings;if(r)for(t.isFunction(r)&&(i=gt.getAxes(),i.xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,r=r(i)),e=0;e<r.length;++e){var a=r[e],s=E(a,"x"),l=E(a,"y");if(null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),!(s.to<s.axis.min||s.from>s.axis.max||l.to<l.axis.min||l.from>l.axis.max)){s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max);var h=s.from===s.to,u=l.from===l.to;if(!h||!u)if(s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),h||u){var c=a.lineWidth||ot.grid.markingsLineWidth,f=c%2?.5:0;lt.beginPath(),lt.strokeStyle=a.color||ot.grid.markingsColor,lt.lineWidth=c,h?(lt.moveTo(s.to+f,l.from),lt.lineTo(s.to+f,l.to)):(lt.moveTo(s.from,l.to+f),lt.lineTo(s.to,l.to+f)),lt.stroke()}else lt.fillStyle=a.color||ot.grid.markingsColor,lt.fillRect(s.from,l.to,s.to-s.from,l.from-l.to)}}i=d(),n=ot.grid.borderWidth;for(var p=0;p<i.length;++p){var m,g,x,b,v=i[p],y=v.box,T=v.tickLength;if(v.show&&0!=v.ticks.length){for(lt.lineWidth=1,"x"==v.direction?(m=0,g="full"==T?"top"==v.position?0:pt:y.top-ft.top+("top"==v.position?y.height:0)):(g=0,m="full"==T?"left"==v.position?0:dt:y.left-ft.left+("left"==v.position?y.width:0)),v.innermost||(lt.strokeStyle=v.options.color,lt.beginPath(),x=b=0,"x"==v.direction?x=dt+1:b=pt+1,1==lt.lineWidth&&("x"==v.direction?g=Math.floor(g)+.5:m=Math.floor(m)+.5),lt.moveTo(m,g),lt.lineTo(m+x,g+b),lt.stroke()),lt.strokeStyle=v.options.tickColor,lt.beginPath(),e=0;e<v.ticks.length;++e){var w=v.ticks[e].v;x=b=0,isNaN(w)||w<v.min||w>v.max||"full"==T&&("object"==typeof n&&n[v.position]>0||n>0)&&(w==v.min||w==v.max)||("x"==v.direction?(m=v.p2c(w),b="full"==T?-pt:T,"top"==v.position&&(b=-b)):(g=v.p2c(w),x="full"==T?-dt:T,"left"==v.position&&(x=-x)),1==lt.lineWidth&&("x"==v.direction?m=Math.floor(m)+.5:g=Math.floor(g)+.5),lt.moveTo(m,g),lt.lineTo(m+x,g+b))}lt.stroke()}}n&&(o=ot.grid.borderColor,"object"==typeof n||"object"==typeof o?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof o&&(o={top:o,right:o,bottom:o,left:o}),n.top>0&&(lt.strokeStyle=o.top,lt.lineWidth=n.top,lt.beginPath(),lt.moveTo(0-n.left,0-n.top/2),lt.lineTo(dt,0-n.top/2),lt.stroke()),n.right>0&&(lt.strokeStyle=o.right,lt.lineWidth=n.right,lt.beginPath(),lt.moveTo(dt+n.right/2,0-n.top),lt.lineTo(dt+n.right/2,pt),lt.stroke()),n.bottom>0&&(lt.strokeStyle=o.bottom,lt.lineWidth=n.bottom,lt.beginPath(),lt.moveTo(dt+n.right,pt+n.bottom/2),lt.lineTo(0,pt+n.bottom/2),lt.stroke()),n.left>0&&(lt.strokeStyle=o.left,lt.lineWidth=n.left,lt.beginPath(),lt.moveTo(0-n.left/2,pt+n.bottom),lt.lineTo(0-n.left/2,0),lt.stroke())):(lt.lineWidth=n,lt.strokeStyle=ot.grid.borderColor,lt.strokeRect(-n/2,-n/2,dt+n,pt+n))),lt.restore()}function F(){t.each(d(),function(t,e){var i,n,o,r,a,s=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",h="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,u=e.options.font||"flot-tick-label tickLabel";if(rt.removeText(h),e.show&&0!=e.ticks.length)for(var c=0;c<e.ticks.length;++c)i=e.ticks[c],!i.label||i.v<e.min||i.v>e.max||("x"==e.direction?(r="center",n=ft.left+e.p2c(i.v),"bottom"==e.position?o=s.top+s.padding:(o=s.top+s.height-s.padding,a="bottom")):(a="middle",o=ft.top+e.p2c(i.v),"left"==e.position?(n=s.left+s.width-s.padding,r="right"):n=s.left+s.padding),rt.addText(h,n,o,i.label,u,null,null,r,a))})}function L(t){t.lines.show&&U(t),t.bars.show&&R(t),t.points.show&&H(t)}function U(t){function e(t,e,i,n,o){var r=t.points,a=t.pointsize,s=null,l=null;lt.beginPath();for(var h=a;h<r.length;h+=a){var u=r[h-a],c=r[h-a+1],f=r[h],d=r[h+1];if(null!=u&&null!=f){if(c<=d&&c<o.min){if(d<o.min)continue;u=(o.min-c)/(d-c)*(f-u)+u,c=o.min}else if(d<=c&&d<o.min){if(c<o.min)continue;f=(o.min-c)/(d-c)*(f-u)+u,d=o.min}if(c>=d&&c>o.max){if(d>o.max)continue;u=(o.max-c)/(d-c)*(f-u)+u,c=o.max}else if(d>=c&&d>o.max){if(c>o.max)continue;f=(o.max-c)/(d-c)*(f-u)+u,d=o.max}if(u<=f&&u<n.min){if(f<n.min)continue;c=(n.min-u)/(f-u)*(d-c)+c,u=n.min}else if(f<=u&&f<n.min){if(u<n.min)continue;d=(n.min-u)/(f-u)*(d-c)+c,f=n.min}if(u>=f&&u>n.max){if(f>n.max)continue;c=(n.max-u)/(f-u)*(d-c)+c,u=n.max}else if(f>=u&&f>n.max){if(u>n.max)continue;d=(n.max-u)/(f-u)*(d-c)+c,f=n.max}u==s&&c==l||lt.moveTo(n.p2c(u)+e,o.p2c(c)+i),s=f,l=d,lt.lineTo(n.p2c(f)+e,o.p2c(d)+i)}}lt.stroke()}function i(t,e,i){for(var n=t.points,o=t.pointsize,r=Math.min(Math.max(0,i.min),i.max),a=0,s=!1,l=1,h=0,u=0;;){if(o>0&&a>n.length+o)break;a+=o;var c=n[a-o],f=n[a-o+l],d=n[a],p=n[a+l];if(s){if(o>0&&null!=c&&null==d){u=a,o=-o,l=2;continue}if(o<0&&a==h+o){lt.fill(),s=!1,o=-o,l=1,a=h=u+o;continue}}if(null!=c&&null!=d){if(c<=d&&c<e.min){if(d<e.min)continue;f=(e.min-c)/(d-c)*(p-f)+f,c=e.min}else if(d<=c&&d<e.min){if(c<e.min)continue;p=(e.min-c)/(d-c)*(p-f)+f,d=e.min}if(c>=d&&c>e.max){if(d>e.max)continue;f=(e.max-c)/(d-c)*(p-f)+f,c=e.max}else if(d>=c&&d>e.max){if(c>e.max)continue;p=(e.max-c)/(d-c)*(p-f)+f,d=e.max}if(s||(lt.beginPath(),lt.moveTo(e.p2c(c),i.p2c(r)),s=!0),f>=i.max&&p>=i.max)lt.lineTo(e.p2c(c),i.p2c(i.max)),lt.lineTo(e.p2c(d),i.p2c(i.max));else if(f<=i.min&&p<=i.min)lt.lineTo(e.p2c(c),i.p2c(i.min)),lt.lineTo(e.p2c(d),i.p2c(i.min));else{var m=c,g=d;f<=p&&f<i.min&&p>=i.min?(c=(i.min-f)/(p-f)*(d-c)+c,f=i.min):p<=f&&p<i.min&&f>=i.min&&(d=(i.min-f)/(p-f)*(d-c)+c,p=i.min),f>=p&&f>i.max&&p<=i.max?(c=(i.max-f)/(p-f)*(d-c)+c,f=i.max):p>=f&&p>i.max&&f<=i.max&&(d=(i.max-f)/(p-f)*(d-c)+c,p=i.max),c!=m&&lt.lineTo(e.p2c(m),i.p2c(f)),lt.lineTo(e.p2c(c),i.p2c(f)),lt.lineTo(e.p2c(d),i.p2c(p)),d!=g&&(lt.lineTo(e.p2c(d),i.p2c(p)),lt.lineTo(e.p2c(g),i.p2c(p)))}}}}function n(t,e,i,n,o,r){function a(t){var e=Math.sqrt(Math.pow(k-T,2)+Math.pow(M-w,2));if(e<=t)return{deltaX:k-T,deltaY:M-w,distance:e,remainder:t-e};var i=k>T?1:-1,n=M>w?1:-1;return{deltaX:i*Math.sqrt(Math.pow(t,2)/(1+Math.pow((M-w)/(k-T),2))),deltaY:n*Math.sqrt(Math.pow(t,2)-Math.pow(t,2)/(1+Math.pow((M-w)/(k-T),2))),distance:t,remainder:0}}var s,l,h=t.points,u=t.pointsize,c=null,f=null,d=0,p=!0;r.dashes.dashLength[0]?(s=r.dashes.dashLength[0],l=r.dashes.dashLength[1]?r.dashes.dashLength[1]:s):l=s=r.dashes.dashLength,lt.beginPath();for(var m=u;m<h.length;m+=u){var g=h[m-u],x=h[m-u+1],b=h[m],v=h[m+1];if(null!=g&&null!=b){if(x<=v&&x<o.min){if(v<o.min)continue;g=(o.min-x)/(v-x)*(b-g)+g,x=o.min}else if(v<=x&&v<o.min){if(x<o.min)continue;b=(o.min-x)/(v-x)*(b-g)+g,v=o.min}if(x>=v&&x>o.max){if(v>o.max)continue;g=(o.max-x)/(v-x)*(b-g)+g,x=o.max}else if(v>=x&&v>o.max){if(x>o.max)continue;b=(o.max-x)/(v-x)*(b-g)+g,v=o.max}if(g<=b&&g<n.min){if(b<n.min)continue;x=(n.min-g)/(b-g)*(v-x)+x,g=n.min}else if(b<=g&&b<n.min){if(g<n.min)continue;v=(n.min-g)/(b-g)*(v-x)+x,b=n.min}if(g>=b&&g>n.max){if(b>n.max)continue;x=(n.max-g)/(b-g)*(v-x)+x,g=n.max}else if(b>=g&&b>n.max){if(g>n.max)continue;v=(n.max-g)/(b-g)*(v-x)+x,b=n.max}g==c&&x==f||lt.moveTo(n.p2c(g)+e,o.p2c(x)+i);var y,T=n.p2c(g)+e,w=o.p2c(x)+i,k=n.p2c(b)+e,M=o.p2c(v)+i;do y=a(d>0?d:p?s:l),0==y.deltaX&&0==y.deltaY||(p?lt.lineTo(T+y.deltaX,w+y.deltaY):lt.moveTo(T+y.deltaX,w+y.deltaY)),p=!p,d=y.remainder,T+=y.deltaX,w+=y.deltaY;while(y.distance>0);c=b,f=v}}lt.stroke()}function o(t,i,o,r,a,s){s.dashes.show?n(t,i,o,r,a,s):e(t,i,o,r,a,s)}lt.save(),lt.translate(ft.left,ft.top),lt.lineJoin="round";var r=t.lines.lineWidth,a=t.shadowSize;if(r>0&&a>0){lt.lineWidth=a,lt.strokeStyle="rgba(0,0,0,0.1)";var s=Math.PI/18;o(t.datapoints,Math.sin(s)*(r/2+a/2),Math.cos(s)*(r/2+a/2),t.xaxis,t.yaxis,t),lt.lineWidth=a/2,o(t.datapoints,Math.sin(s)*(r/2+a/4),Math.cos(s)*(r/2+a/4),t.xaxis,t.yaxis,t)}lt.lineWidth=r,lt.strokeStyle=t.color;var l=j(t.lines,t.color,0,pt);l&&(lt.fillStyle=l,i(t.datapoints,t.xaxis,t.yaxis)),r>0&&o(t.datapoints,0,0,t.xaxis,t.yaxis,t),lt.restore()}function H(t){function e(t,e,i,n,o,r,a,s){for(var l=t.points,h=t.pointsize,u=0;u<l.length;u+=h){var c=l[u],f=l[u+1];null==c||c<r.min||c>r.max||f<a.min||f>a.max||(lt.beginPath(),c=r.p2c(c),f=a.p2c(f)+n,"circle"==s?lt.arc(c,f,e,0,o?Math.PI:2*Math.PI,!1):s(lt,c,f,e,o),lt.closePath(),i&&(lt.fillStyle=i,lt.fill()),lt.stroke())}}lt.save(),lt.translate(ft.left,ft.top);var i=t.points.lineWidth,n=t.shadowSize,o=t.points.radius,r=t.points.symbol;if(0==i&&(i=1e-4),i>0&&n>0){var a=n/2;lt.lineWidth=a,lt.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,o,null,a+a/2,!0,t.xaxis,t.yaxis,r),lt.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,o,null,a/2,!0,t.xaxis,t.yaxis,r)}lt.lineWidth=i,lt.strokeStyle=t.color,e(t.datapoints,o,j(t.points,t.color),0,!1,t.xaxis,t.yaxis,r),lt.restore()}function N(t,e,i,n,o,r,a,s,l,h,u){var c,f,d,p,m,g,x,b,v;h?(b=g=x=!0,m=!1,c=i,f=t,p=e+n,d=e+o,f<c&&(v=f,f=c,c=v,m=!0,g=!1)):(m=g=x=!0,b=!1,c=t+n,f=t+o,d=i,p=e,p<d&&(v=p,p=d,d=v,b=!0,x=!1)),f<a.min||c>a.max||p<s.min||d>s.max||(c<a.min&&(c=a.min,m=!1),f>a.max&&(f=a.max,g=!1),d<s.min&&(d=s.min,b=!1),p>s.max&&(p=s.max,x=!1),c=a.p2c(c),d=s.p2c(d),f=a.p2c(f),p=s.p2c(p),r&&(l.fillStyle=r(d,p),l.fillRect(c,p,f-c,d-p)),u>0&&(m||g||x||b)&&(l.beginPath(),l.moveTo(c,d),m?l.lineTo(c,p):l.moveTo(c,p),x?l.lineTo(f,p):l.moveTo(f,p),g?l.lineTo(f,d):l.moveTo(f,d),b?l.lineTo(c,d):l.moveTo(c,d),l.stroke()))}function R(t){function e(e,i,n,o,r,a){for(var s=e.points,l=e.pointsize,h=0;h<s.length;h+=l)null!=s[h]&&N(s[h],s[h+1],s[h+2],i,n,o,r,a,lt,t.bars.horizontal,t.bars.lineWidth)}lt.save(),lt.translate(ft.left,ft.top),lt.lineWidth=t.bars.lineWidth,lt.strokeStyle=t.color;var i;switch(t.bars.align){case"left":i=0;break;case"right":i=-t.bars.barWidth;break;default:i=-t.bars.barWidth/2}var n=t.bars.fill?function(e,i){return j(t.bars,t.color,e,i)}:null;e(t.datapoints,i,i+t.bars.barWidth,n,t.xaxis,t.yaxis),lt.restore()}function j(e,i,n,o){var r=e.fill;if(!r)return null;if(e.fillColor)return it(e.fillColor,n,o,i);var a=t.color.parse(i);return a.a="number"==typeof r?r:.4,a.normalize(),a.toString()}function Y(){if(null!=ot.legend.container?t(ot.legend.container).html(""):i.find(".legend").remove(),ot.legend.show){for(var e,n,o=[],r=[],a=!1,s=ot.legend.labelFormatter,l=0;l<nt.length;++l)e=nt[l],e.label&&(n=s?s(e.label,e):e.label,n&&r.push({label:n,color:e.color}));if(ot.legend.sorted)if(t.isFunction(ot.legend.sorted))r.sort(ot.legend.sorted);else if("reverse"==ot.legend.sorted)r.reverse();else{var h="descending"!=ot.legend.sorted;r.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=h?1:-1})}for(var l=0;l<r.length;++l){var u=r[l];l%ot.legend.noColumns==0&&(a&&o.push("</tr>"),o.push("<tr>"),a=!0),o.push('<td class="legendColorBox"><div style="border:1px solid '+ot.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+u.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+u.label+"</td>")}if(a&&o.push("</tr>"),0!=o.length){var c='<table style="font-size:smaller;color:'+ot.grid.color+'">'+o.join("")+"</table>";if(null!=ot.legend.container)t(ot.legend.container).html(c);else{var f="",d=ot.legend.position,p=ot.legend.margin;null==p[0]&&(p=[p,p]),"n"==d.charAt(0)?f+="top:"+(p[1]+ft.top)+"px;":"s"==d.charAt(0)&&(f+="bottom:"+(p[1]+ft.bottom)+"px;"),"e"==d.charAt(1)?f+="right:"+(p[0]+ft.right)+"px;":"w"==d.charAt(1)&&(f+="left:"+(p[0]+ft.left)+"px;");var m=t('<div class="legend">'+c.replace('style="','style="position:absolute;'+f+";")+"</div>").appendTo(i);if(0!=ot.legend.backgroundOpacity){var g=ot.legend.backgroundColor;null==g&&(g=ot.grid.backgroundColor,g=g&&"string"==typeof g?t.color.parse(g):t.color.extract(m,"background-color"),g.a=1,g=g.toString());var x=m.children();t('<div style="position:absolute;width:'+x.width()+"px;height:"+x.height()+"px;"+f+"background-color:"+g+';"> </div>').prependTo(m).css("opacity",ot.legend.backgroundOpacity)}}}}}function Z(t,e,i){var n,o,r,a=ot.grid.mouseActiveRadius,s=a*a+1,l=null;for(n=nt.length-1;n>=0;--n)if(i(nt[n])){var h=nt[n],u=h.xaxis,c=h.yaxis,f=h.datapoints.points,d=u.c2p(t),p=c.c2p(e),m=a/u.scale,g=a/c.scale;if(r=h.datapoints.pointsize,u.options.inverseTransform&&(m=Number.MAX_VALUE),c.options.inverseTransform&&(g=Number.MAX_VALUE),h.lines.show||h.points.show)for(o=0;o<f.length;o+=r){var x=f[o],b=f[o+1];if(null!=x&&!(x-d>m||x-d<-m||b-p>g||b-p<-g)){var v=Math.abs(u.p2c(x)-t),y=Math.abs(c.p2c(b)-e),T=v*v+y*y;T<s&&(s=T,l=[n,o/r])}}if(h.bars.show&&!l){var w,k;switch(h.bars.align){case"left":w=0;break;case"right":w=-h.bars.barWidth;break;default:w=-h.bars.barWidth/2}for(k=w+h.bars.barWidth,o=0;o<f.length;o+=r){var x=f[o],b=f[o+1],M=f[o+2];null!=x&&(nt[n].bars.horizontal?d<=Math.max(M,x)&&d>=Math.min(M,x)&&p>=b+w&&p<=b+k:d>=x+w&&d<=x+k&&p>=Math.min(M,b)&&p<=Math.max(M,b))&&(l=[n,o/r])}}}return l?(n=l[0],o=l[1],r=nt[n].datapoints.pointsize,{datapoint:nt[n].datapoints.points.slice(o*r,(o+1)*r),dataIndex:o,series:nt[n],seriesIndex:n}):null}function J(t){ot.grid.hoverable&&G("plothover",t,function(t){return 0!=t.hoverable})}function q(t){ot.grid.hoverable&&G("plotleave",t,function(t){return!1})}function X(t){G("plotclick",t,function(t){return 0!=t.clickable})}function G(t,e,n){var o=st.offset(),r=e.pageX-o.left-ft.left,a=e.pageY-o.top-ft.top,s=p({left:r,top:a});s.pageX=e.pageX,s.pageY=e.pageY;var l=Z(r,a,n);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+o.left+ft.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+o.top+ft.top,10)),ot.grid.autoHighlight){for(var h=0;h<xt.length;++h){var u=xt[h];u.auto!=t||l&&u.series==l.series&&u.point[0]==l.datapoint[0]&&u.point[1]==l.datapoint[1]||$(u.series,u.point)}l&&V(l.series,l.datapoint,t)}i.trigger(t,[s,l])}function B(){var t=ot.interaction.redrawOverlayInterval;return t==-1?void Q():void(bt||(bt=setTimeout(Q,t)))}function Q(){bt=null,ht.save(),at.clear(),ht.translate(ft.left,ft.top);var t,e;for(t=0;t<xt.length;++t)e=xt[t],e.series.bars.show?et(e.series,e.point):tt(e.series,e.point);ht.restore(),s(mt.drawOverlay,[ht])}function V(t,e,i){if("number"==typeof t&&(t=nt[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var o=K(t,e);o==-1?(xt.push({series:t,point:e,auto:i}),B()):i||(xt[o].auto=!1)}function $(t,e){if(null==t&&null==e)return xt=[],void B();if("number"==typeof t&&(t=nt[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var n=K(t,e);n!=-1&&(xt.splice(n,1),B())}function K(t,e){for(var i=0;i<xt.length;++i){var n=xt[i];if(n.series==t&&n.point[0]==e[0]&&n.point[1]==e[1])return i}return-1}function tt(e,i){var n=i[0],o=i[1],r=e.xaxis,a=e.yaxis,s="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString();if(!(n<r.min||n>r.max||o<a.min||o>a.max)){var l=e.points.radius+e.points.lineWidth/2;ht.lineWidth=l,ht.strokeStyle=s;var h=1.5*l;n=r.p2c(n),o=a.p2c(o),ht.beginPath(),"circle"==e.points.symbol?ht.arc(n,o,h,0,2*Math.PI,!1):e.points.symbol(ht,n,o,h,!1),
ht.closePath(),ht.stroke()}}function et(e,i){var n,o="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString(),r=o;switch(e.bars.align){case"left":n=0;break;case"right":n=-e.bars.barWidth;break;default:n=-e.bars.barWidth/2}ht.lineWidth=e.bars.lineWidth,ht.strokeStyle=o,N(i[0],i[1],i[2]||0,n,n+e.bars.barWidth,function(){return r},e.xaxis,e.yaxis,ht,e.bars.horizontal,e.bars.lineWidth)}function it(e,i,n,o){if("string"==typeof e)return e;for(var r=lt.createLinearGradient(0,n,0,i),a=0,s=e.colors.length;a<s;++a){var l=e.colors[a];if("string"!=typeof l){var h=t.color.parse(o);null!=l.brightness&&(h=h.scale("rgb",l.brightness)),null!=l.opacity&&(h.a*=l.opacity),l=h.toString()}r.addColorStop(a/(s-1),l)}return r}var nt=[],ot={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},dashes:{show:!1,lineWidth:2,fill:!1,fillColor:null,steps:!1,dashLength:5},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},rt=null,at=null,st=null,lt=null,ht=null,ut=[],ct=[],ft={left:0,right:0,top:0,bottom:0},dt=0,pt=0,mt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},gt=this;gt.setData=u,gt.setupGrid=C,gt.draw=I,gt.getPlaceholder=function(){return i},gt.getCanvas=function(){return rt.element},gt.getPlotOffset=function(){return ft},gt.width=function(){return dt},gt.height=function(){return pt},gt.offset=function(){var t=st.offset();return t.left+=ft.left,t.top+=ft.top,t},gt.getData=function(){return nt},gt.getAxes=function(){var e={};return t.each(ut.concat(ct),function(t,i){i&&(e[i.direction+(1!=i.n?i.n:"")+"axis"]=i)}),e},gt.getXAxes=function(){return ut},gt.getYAxes=function(){return ct},gt.c2p=p,gt.p2c=m,gt.getOptions=function(){return ot},gt.highlight=V,gt.unhighlight=$,gt.triggerRedrawOverlay=B,gt.pointOffset=function(t){return{left:parseInt(ut[f(t,"x")-1].p2c(+t.x)+ft.left,10),top:parseInt(ct[f(t,"y")-1].p2c(+t.y)+ft.top,10)}},gt.shutdown=T,gt.destroy=function(){T(),i.removeData("plot").empty(),nt=[],ot=null,rt=null,at=null,st=null,lt=null,ht=null,ut=[],ct=[],mt=null,xt=[],gt=null},gt.resize=function(){var t=i.width(),e=i.height();rt.resize(t,e),at.resize(t,e)},gt.hooks=mt,l(gt),h(r),v(),u(o),C(),I(),y();var xt=[],bt=null}function n(t,e){return e*Math.floor(t/e)}var o=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var i=this.element,n=this.context,o=this.pixelRatio;this.width!=t&&(i.width=t*o,i.style.width=t+"px",this.width=t),this.height!=e&&(i.height=e*o,i.style.height=e+"px",this.height=e),n.restore(),n.save(),n.scale(o,o)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var t=this._textCache;for(var e in t)if(o.call(t,e)){var i=this.getTextLayer(e),n=t[e];i.hide();for(var r in n)if(o.call(n,r)){var a=n[r];for(var s in a)if(o.call(a,s)){for(var l,h=a[s].positions,u=0;l=h[u];u++)l.active?l.rendered||(i.append(l.element),l.rendered=!0):(h.splice(u--,1),l.rendered&&l.element.detach());0==h.length&&delete a[s]}}i.show()}},e.prototype.getTextLayer=function(e){var i=this.text[e];return null==i&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i},e.prototype.getTextInfo=function(e,i,n,o,r){var a,s,l,h;if(i=""+i,a="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,s=this._textCache[e],null==s&&(s=this._textCache[e]={}),l=s[a],null==l&&(l=s[a]={}),h=l[i],null==h){var u=t("<div></div>").html(i).css({position:"absolute","max-width":r,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof n?u.css({font:a,color:n.color}):"string"==typeof n&&u.addClass(n),h=l[i]={width:u.outerWidth(!0),height:u.outerHeight(!0),element:u,positions:[]},u.detach()}return h},e.prototype.addText=function(t,e,i,n,o,r,a,s,l){var h=this.getTextInfo(t,n,o,r,a),u=h.positions;"center"==s?e-=h.width/2:"right"==s&&(e-=h.width),"middle"==l?i-=h.height/2:"bottom"==l&&(i-=h.height);for(var c,f=0;c=u[f];f++)if(c.x==e&&c.y==i)return void(c.active=!0);c={active:!0,rendered:!1,element:u.length?h.element.clone():h.element,x:e,y:i},u.push(c),c.element.css({top:Math.round(i),left:Math.round(e),"text-align":s})},e.prototype.removeText=function(t,e,i,n,r,a){if(null==n){var s=this._textCache[t];if(null!=s)for(var l in s)if(o.call(s,l)){var h=s[l];for(var u in h)if(o.call(h,u))for(var c,f=h[u].positions,d=0;c=f[d];d++)c.active=!1}}else for(var c,f=this.getTextInfo(t,n,r,a).positions,d=0;c=f[d];d++)c.x==e&&c.y==i&&(c.active=!1)},t.plot=function(e,n,o){var r=new i(t(e),n,o,t.plot.plugins);return r},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(e,i){return this.each(function(){t.plot(this,e,i)})}}(jQuery),function(t){function e(t){function e(e){n.locked||n.x!=-1&&(n.x=-1,t.triggerRedrawOverlay())}function i(e){if(!n.locked){if(t.getSelection&&t.getSelection())return void(n.x=-1);var i=t.offset();n.x=Math.max(0,Math.min(e.pageX-i.left,t.width())),n.y=Math.max(0,Math.min(e.pageY-i.top,t.height())),t.triggerRedrawOverlay()}}var n={x:-1,y:-1,locked:!1};t.setCrosshair=function(e){if(e){var i=t.p2c(e);n.x=Math.max(0,Math.min(i.left,t.width())),n.y=Math.max(0,Math.min(i.top,t.height()))}else n.x=-1;t.triggerRedrawOverlay()},t.clearCrosshair=t.setCrosshair,t.lockCrosshair=function(e){e&&t.setCrosshair(e),n.locked=!0},t.unlockCrosshair=function(){n.locked=!1},t.hooks.bindEvents.push(function(t,n){t.getOptions().crosshair.mode&&(n.mouseout(e),n.mousemove(i))}),t.hooks.drawOverlay.push(function(t,e){var i=t.getOptions().crosshair;if(i.mode){var o=t.getPlotOffset();if(e.save(),e.translate(o.left,o.top),n.x!=-1){var r=t.getOptions().crosshair.lineWidth%2?.5:0;if(e.strokeStyle=i.color,e.lineWidth=i.lineWidth,e.lineJoin="round",e.beginPath(),i.mode.indexOf("x")!=-1){var a=Math.floor(n.x)+r;e.moveTo(a,0),e.lineTo(a,t.height())}if(i.mode.indexOf("y")!=-1){var s=Math.floor(n.y)+r;e.moveTo(0,s),e.lineTo(t.width(),s)}e.stroke()}e.restore()}}),t.hooks.shutdown.push(function(t,n){n.unbind("mouseout",e),n.unbind("mousemove",i)})}var i={crosshair:{mode:null,color:"rgba(170, 0, 0, 0.80)",lineWidth:1}};t.plot.plugins.push({init:e,options:i,name:"crosshair",version:"1.0"})}(jQuery),function(t){function e(e){function i(t){p.active&&(h(t),e.getPlaceholder().trigger("plotselecting",[r()]))}function n(e){1==e.which&&(document.body.focus(),void 0!==document.onselectstart&&null==m.onselectstart&&(m.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==m.ondrag&&(m.ondrag=document.ondrag,document.ondrag=function(){return!1}),l(p.first,e),p.active=!0,g=function(t){o(t)},t(document).one("mouseup",g))}function o(t){return g=null,void 0!==document.onselectstart&&(document.onselectstart=m.onselectstart),void 0!==document.ondrag&&(document.ondrag=m.ondrag),p.active=!1,h(t),d()?a():(e.getPlaceholder().trigger("plotunselected",[]),e.getPlaceholder().trigger("plotselecting",[null])),!1}function r(){if(!d())return null;if(!p.show)return null;var i={},n=p.first,o=p.second;return t.each(e.getAxes(),function(t,e){if(e.used){var r=e.c2p(n[e.direction]),a=e.c2p(o[e.direction]);i[t]={from:Math.min(r,a),to:Math.max(r,a)}}}),i}function a(){var t=r();e.getPlaceholder().trigger("plotselected",[t]),t.xaxis&&t.yaxis&&e.getPlaceholder().trigger("selected",[{x1:t.xaxis.from,y1:t.yaxis.from,x2:t.xaxis.to,y2:t.yaxis.to}])}function s(t,e,i){return e<t?t:e>i?i:e}function l(t,i){var n=e.getOptions(),o=e.getPlaceholder().offset(),r=e.getPlotOffset();t.x=s(0,i.pageX-o.left-r.left,e.width()),t.y=s(0,i.pageY-o.top-r.top,e.height()),"y"==n.selection.mode&&(t.x=t==p.first?0:e.width()),"x"==n.selection.mode&&(t.y=t==p.first?0:e.height())}function h(t){null!=t.pageX&&(l(p.second,t),d()?(p.show=!0,e.triggerRedrawOverlay()):u(!0))}function u(t){p.show&&(p.show=!1,e.triggerRedrawOverlay(),t||e.getPlaceholder().trigger("plotunselected",[]))}function c(t,i){var n,o,r,a,s=e.getAxes();for(var l in s)if(n=s[l],n.direction==i&&(a=i+n.n+"axis",t[a]||1!=n.n||(a=i+"axis"),t[a])){o=t[a].from,r=t[a].to;break}if(t[a]||(n="x"==i?e.getXAxes()[0]:e.getYAxes()[0],o=t[i+"1"],r=t[i+"2"]),null!=o&&null!=r&&o>r){var h=o;o=r,r=h}return{from:o,to:r,axis:n}}function f(t,i){var n,o=e.getOptions();"y"==o.selection.mode?(p.first.x=0,p.second.x=e.width()):(n=c(t,"x"),p.first.x=n.axis.p2c(n.from),p.second.x=n.axis.p2c(n.to)),"x"==o.selection.mode?(p.first.y=0,p.second.y=e.height()):(n=c(t,"y"),p.first.y=n.axis.p2c(n.from),p.second.y=n.axis.p2c(n.to)),p.show=!0,e.triggerRedrawOverlay(),!i&&d()&&a()}function d(){var t=e.getOptions().selection.minSize;return Math.abs(p.second.x-p.first.x)>=t&&Math.abs(p.second.y-p.first.y)>=t}var p={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,active:!1},m={},g=null;e.clearSelection=u,e.setSelection=f,e.getSelection=r,e.hooks.bindEvents.push(function(t,e){var o=t.getOptions();null!=o.selection.mode&&(e.mousemove(i),e.mousedown(n))}),e.hooks.drawOverlay.push(function(e,i){if(p.show&&d()){var n=e.getPlotOffset(),o=e.getOptions();i.save(),i.translate(n.left,n.top);var r=t.color.parse(o.selection.color);i.strokeStyle=r.scale("a",.8).toString(),i.lineWidth=1,i.lineJoin=o.selection.shape,i.fillStyle=r.scale("a",.4).toString();var a=Math.min(p.first.x,p.second.x)+.5,s=Math.min(p.first.y,p.second.y)+.5,l=Math.abs(p.second.x-p.first.x)-1,h=Math.abs(p.second.y-p.first.y)-1;i.fillRect(a,s,l,h),i.strokeRect(a,s,l,h),i.restore()}}),e.hooks.shutdown.push(function(e,o){o.unbind("mousemove",i),o.unbind("mousedown",n),g&&t(document).unbind("mouseup",g)})}t.plot.plugins.push({init:e,options:{selection:{mode:null,color:"#e8cfac",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),function(t){function e(t,e){return e*Math.floor(t/e)}function i(t,e,i,n){if("function"==typeof t.strftime)return t.strftime(e);var o=function(t,e){return t=""+t,e=""+(null==e?"0":e),1==t.length?e+t:t},r=[],a=!1,s=t.getHours(),l=s<12;null==i&&(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==n&&(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var h;h=s>12?s-12:0==s?12:s;for(var u=0;u<e.length;++u){var c=e.charAt(u);if(a){switch(c){case"a":c=""+n[t.getDay()];break;case"b":c=""+i[t.getMonth()];break;case"d":c=o(t.getDate());break;case"e":c=o(t.getDate()," ");break;case"h":case"H":c=o(s);break;case"I":c=o(h);break;case"l":c=o(h," ");break;case"m":c=o(t.getMonth()+1);break;case"M":c=o(t.getMinutes());break;case"q":c=""+(Math.floor(t.getMonth()/3)+1);break;case"S":c=o(t.getSeconds());break;case"y":c=o(t.getFullYear()%100);break;case"Y":c=""+t.getFullYear();break;case"p":c=l?"am":"pm";break;case"P":c=l?"AM":"PM";break;case"w":c=""+t.getDay()}r.push(c),a=!1}else"%"==c?a=!0:r.push(c)}return r.join("")}function n(t){function e(t,e,i,n){t[e]=function(){return i[n].apply(i,arguments)}}var i={date:t};void 0!=t.strftime&&e(i,"strftime",t,"strftime"),e(i,"getTime",t,"getTime"),e(i,"setTime",t,"setTime");for(var n=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],o=0;o<n.length;o++)e(i,"get"+n[o],t,"getUTC"+n[o]),e(i,"set"+n[o],t,"setUTC"+n[o]);return i}function o(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var i=new timezoneJS.Date;return i.setTimezone(e.timezone),i.setTime(t),i}return n(new Date(t))}return n(new Date(t))}function r(n){n.hooks.processOptions.push(function(n,r){t.each(n.getAxes(),function(t,n){var r=n.options;"time"==r.mode&&(n.tickGenerator=function(t){var i=[],n=o(t.min,r),a=0,l=r.tickSize&&"quarter"===r.tickSize[1]||r.minTickSize&&"quarter"===r.minTickSize[1]?u:h;null!=r.minTickSize&&(a="number"==typeof r.tickSize?r.tickSize:r.minTickSize[0]*s[r.minTickSize[1]]);for(var c=0;c<l.length-1&&!(t.delta<(l[c][0]*s[l[c][1]]+l[c+1][0]*s[l[c+1][1]])/2&&l[c][0]*s[l[c][1]]>=a);++c);var f=l[c][0],d=l[c][1];if("year"==d){if(null!=r.minTickSize&&"year"==r.minTickSize[1])f=Math.floor(r.minTickSize[0]);else{var p=Math.pow(10,Math.floor(Math.log(t.delta/s.year)/Math.LN10)),m=t.delta/s.year/p;f=m<1.5?1:m<3?2:m<7.5?5:10,f*=p}f<1&&(f=1)}t.tickSize=r.tickSize||[f,d];var g=t.tickSize[0];d=t.tickSize[1];var x=g*s[d];"second"==d?n.setSeconds(e(n.getSeconds(),g)):"minute"==d?n.setMinutes(e(n.getMinutes(),g)):"hour"==d?n.setHours(e(n.getHours(),g)):"month"==d?n.setMonth(e(n.getMonth(),g)):"quarter"==d?n.setMonth(3*e(n.getMonth()/3,g)):"year"==d&&n.setFullYear(e(n.getFullYear(),g)),n.setMilliseconds(0),x>=s.minute&&n.setSeconds(0),x>=s.hour&&n.setMinutes(0),x>=s.day&&n.setHours(0),x>=4*s.day&&n.setDate(1),x>=2*s.month&&n.setMonth(e(n.getMonth(),3)),x>=2*s.quarter&&n.setMonth(e(n.getMonth(),6)),x>=s.year&&n.setMonth(0);var b,v=0,y=Number.NaN;do if(b=y,y=n.getTime(),i.push(y),"month"==d||"quarter"==d)if(g<1){n.setDate(1);var T=n.getTime();n.setMonth(n.getMonth()+("quarter"==d?3:1));var w=n.getTime();n.setTime(y+v*s.hour+(w-T)*g),v=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+g*("quarter"==d?3:1));else"year"==d?n.setFullYear(n.getFullYear()+g):n.setTime(y+x);while(y<t.max&&y!=b);return i},n.tickFormatter=function(t,e){var n=o(t,e.options);if(null!=r.timeformat)return i(n,r.timeformat,r.monthNames,r.dayNames);var a,l=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],h=e.tickSize[0]*s[e.tickSize[1]],u=e.max-e.min,c=r.twelveHourClock?" %p":"",f=r.twelveHourClock?"%I":"%H";a=h<s.minute?f+":%M:%S"+c:h<s.day?u<2*s.day?f+":%M"+c:"%b %d "+f+":%M"+c:h<s.month?"%b %d":l&&h<s.quarter||!l&&h<s.year?u<s.year?"%b":"%b %Y":l&&h<s.year?u<s.year?"Q%q":"Q%q %Y":"%Y";var d=i(n,a,r.monthNames,r.dayNames);return d})})})}var a={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},s={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],h=l.concat([[3,"month"],[6,"month"],[1,"year"]]),u=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:r,options:a,name:"time",version:"1.0"}),t.plot.formatDate=i,t.plot.dateGenerator=o}(jQuery),function(t){function e(e,r){var s=r.Canvas;null==i&&(n=s.prototype.getTextInfo,o=s.prototype.addText,i=s.prototype.render),s.prototype.render=function(){if(!e.getOptions().canvas)return i.call(this);var t=this.context,n=this._textCache;t.save(),t.textBaseline="middle";for(var o in n)if(a.call(n,o)){var r=n[o];for(var s in r)if(a.call(r,s)){var l=r[s],h=!0;for(var u in l)if(a.call(l,u)){var c=l[u],f=c.positions,d=c.lines;h&&(t.fillStyle=c.font.color,t.font=c.font.definition,h=!1);for(var p,m=0;p=f[m];m++)if(p.active)for(var g,x=0;g=p.lines[x];x++)t.fillText(d[x].text,g[0],g[1]);else f.splice(m--,1);0==f.length&&delete l[u]}}}t.restore()},s.prototype.getTextInfo=function(i,o,r,a,s){if(!e.getOptions().canvas)return n.call(this,i,o,r,a,s);var l,h,u,c;if(o=""+o,l="object"==typeof r?r.style+" "+r.variant+" "+r.weight+" "+r.size+"px "+r.family:r,h=this._textCache[i],null==h&&(h=this._textCache[i]={}),u=h[l],null==u&&(u=h[l]={}),c=u[o],null==c){var f=this.context;if("object"!=typeof r){var d=t("<div>&nbsp;</div>").css("position","absolute").addClass("string"==typeof r?r:null).appendTo(this.getTextLayer(i));r={lineHeight:d.height(),style:d.css("font-style"),variant:d.css("font-variant"),weight:d.css("font-weight"),family:d.css("font-family"),color:d.css("color")},r.size=d.css("line-height",1).height(),d.remove()}l=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px "+r.family,c=u[o]={width:0,height:0,positions:[],lines:[],font:{definition:l,color:r.color}},f.save(),f.font=l;var p=(o+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n"),m=function(t,e,i,n){for(var o=0;o<n.length;++o){var r=n[o],a=t.measureText(r);e.width=Math.max(a.width,e.width),e.height+=i.lineHeight,e.lines.push({text:r,width:a.width,height:i.lineHeight})}};if(m(f,c,r,p),s&&c.width>s){for(var g=[],x=0;x<p.length;x++){for(var b=p[x],v=Math.floor(b.length/2),y=0;y<v;y++){if(" "==b[v-y]){g.push(b.substring(0,v-y)),g.push(b.substring(v-y+1)),b="";break}if(" "==b[v+y]){g.push(b.substring(0,v+y)),g.push(b.substring(v+y+1)),b="";break}}b.length&&g.push(b)}c.width=0,c.height=0,c.lines=[],m(f,c,r,g)}f.restore()}return c},s.prototype.addText=function(t,i,n,r,a,s,l,h,u){if(!e.getOptions().canvas)return o.call(this,t,i,n,r,a,s,l,h,u);var c=this.getTextInfo(t,r,a,s,l),f=c.positions,d=c.lines;n+=c.height/d.length/2,n="middle"==u?Math.round(n-c.height/2):"bottom"==u?Math.round(n-c.height):Math.round(n),window.opera&&window.opera.version().split(".")[0]<12&&(n-=2);for(var p,m=0;p=f[m];m++)if(p.x==i&&p.y==n)return void(p.active=!0);p={active:!0,lines:[],x:i,y:n},f.push(p);for(var g,m=0;g=d[m];m++)"center"==h?p.lines.push([Math.round(i-g.width/2),n]):"right"==h?p.lines.push([Math.round(i-g.width),n]):p.lines.push([Math.round(i),n]),n+=g.height}}var i,n,o,r={canvas:!0},a=Object.prototype.hasOwnProperty;t.plot.plugins.push({init:e,options:r,name:"canvas",version:"1.0"})}(jQuery),function(t){function e(){return!!document.createElement("canvas").getContext}function i(){if(!e())return!1;var t=document.createElement("canvas"),i=t.getContext("2d");return"function"==typeof i.fillText}function n(){var t=document.createElement("div");return"undefined"!=typeof t.style.MozTransition||"undefined"!=typeof t.style.OTransition||"undefined"!=typeof t.style.webkitTransition||"undefined"!=typeof t.style.transition}function o(t,e,i,n,o){this.axisName=t,this.position=e,this.padding=i,this.plot=n,this.opts=o,this.width=0,this.height=0}function r(t,e,i,n,r){o.prototype.constructor.call(this,t,e,i,n,r)}function a(t,e,i,n,r){o.prototype.constructor.call(this,t,e,i,n,r),this.elem=null}function s(t,e,i,n,o){a.prototype.constructor.call(this,t,e,i,n,o)}function l(t,e,i,n,o){s.prototype.constructor.call(this,t,e,i,n,o),this.requiresResize=!1}function h(e){e.hooks.processOptions.push(function(e,o){if(o.axisLabels.show){var h=!1,u={},c=2;e.hooks.draw.push(function(e,o){var f=!1;h?(h=!1,t.each(e.getAxes(),function(t,i){var n=i.options||e.getOptions()[t];n&&n.axisLabel&&i.show&&u[t].draw(i.box)})):(t.each(e.getAxes(),function(t,o){var h=o.options||e.getOptions()[t];if(t in u&&(o.labelHeight=o.labelHeight-u[t].height,o.labelWidth=o.labelWidth-u[t].width,h.labelHeight=o.labelHeight,h.labelWidth=o.labelWidth,u[t].cleanup(),delete u[t]),h&&h.axisLabel&&o.show){f=!0;var d=null;if(h.axisLabelUseHtml||"Microsoft Internet Explorer"!=navigator.appName)d=h.axisLabelUseHtml||!n()&&!i()&&!h.axisLabelUseCanvas?a:h.axisLabelUseCanvas||!n()?r:s;else{var p=navigator.userAgent,m=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=m.exec(p)&&(rv=parseFloat(RegExp.$1)),d=rv>=9&&!h.axisLabelUseCanvas&&!h.axisLabelUseHtml?s:h.axisLabelUseCanvas||h.axisLabelUseHtml?h.axisLabelUseCanvas?r:a:l}var g=void 0===h.axisLabelPadding?c:h.axisLabelPadding,x=h.axisLabelPosition||o.position;u[t]=new d(t,x,g,e,h),u[t].calculateSize(),h.labelHeight=o.labelHeight+u[t].height,h.labelWidth=o.labelWidth+u[t].width}}),f&&(h=!0,e.setupGrid(),e.draw()))})}})}var u={axisLabels:{show:!0}};o.prototype.cleanup=function(){},r.prototype=new o,r.prototype.constructor=r,r.prototype.calculateSize=function(){this.opts.axisLabelFontSizePixels||(this.opts.axisLabelFontSizePixels=14),this.opts.axisLabelFontFamily||(this.opts.axisLabelFontFamily="sans-serif");this.opts.axisLabelFontSizePixels+this.padding,this.opts.axisLabelFontSizePixels+this.padding;"left"==this.position||"right"==this.position?(this.width=this.opts.axisLabelFontSizePixels+this.padding,this.height=0):(this.width=0,this.height=this.opts.axisLabelFontSizePixels+this.padding)},r.prototype.draw=function(t){this.opts.axisLabelColour||(this.opts.axisLabelColour="black");var e=this.plot.getCanvas().getContext("2d");e.save(),e.font=this.opts.axisLabelFontSizePixels+"px "+this.opts.axisLabelFontFamily,e.fillStyle=this.opts.axisLabelColour;var i,n,o=e.measureText(this.opts.axisLabel).width,r=this.opts.axisLabelFontSizePixels,a=0;"top"==this.position?(i=t.left+t.width/2-o/2,n=t.top+.72*r):"bottom"==this.position?(i=t.left+t.width/2-o/2,n=t.top+t.height-.72*r):"left"==this.position?(i=t.left+.72*r,n=t.height/2+t.top+o/2,a=-Math.PI/2):"right"==this.position&&(i=t.left+t.width-.72*r,n=t.height/2+t.top-o/2,a=Math.PI/2),e.translate(i,n),e.rotate(a),e.fillText(this.opts.axisLabel,0,0),e.restore()},a.prototype=new o,a.prototype.constructor=a,a.prototype.calculateSize=function(){var e=t('<div class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>");this.plot.getPlaceholder().append(e),this.labelWidth=e.outerWidth(!0),this.labelHeight=e.outerHeight(!0),e.remove(),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelWidth+this.padding:this.height=this.labelHeight+this.padding},a.prototype.cleanup=function(){this.elem&&this.elem.remove()},a.prototype.draw=function(e){this.plot.getPlaceholder().find("#"+this.axisName+"Label").remove(),this.elem=t('<div id="'+this.axisName+'Label" " class="axisLabels" style="position:absolute;">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem),"top"==this.position?(this.elem.css("left",e.left+e.width/2-this.labelWidth/2+"px"),this.elem.css("top",e.top+"px")):"bottom"==this.position?(this.elem.css("left",e.left+e.width/2-this.labelWidth/2+"px"),this.elem.css("top",e.top+e.height-this.labelHeight+"px")):"left"==this.position?(this.elem.css("top",e.top+e.height/2-this.labelHeight/2+"px"),this.elem.css("left",e.left+"px")):"right"==this.position&&(this.elem.css("top",e.top+e.height/2-this.labelHeight/2+"px"),this.elem.css("left",e.left+e.width-this.labelWidth+"px"))},s.prototype=new a,s.prototype.constructor=s,s.prototype.calculateSize=function(){a.prototype.calculateSize.call(this),this.width=this.height=0,"left"==this.position||"right"==this.position?this.width=this.labelHeight+this.padding:this.height=this.labelHeight+this.padding},s.prototype.transforms=function(t,e,i){var n={"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!=e||0!=i){var o=" translate("+e+"px, "+i+"px)";n["-moz-transform"]+=o,n["-webkit-transform"]+=o,n["-o-transform"]+=o,n["-ms-transform"]+=o}if(0!=t){var r=" rotate("+t+"deg)";n["-moz-transform"]+=r,n["-webkit-transform"]+=r,n["-o-transform"]+=r,n["-ms-transform"]+=r}var a="top: 0; left: 0; ";for(var s in n)n[s]&&(a+=s+":"+n[s]+";");return a+=";"},s.prototype.calculateOffsets=function(t){var e={x:0,y:0,degrees:0};return"bottom"==this.position?(e.x=t.left+t.width/2-this.labelWidth/2,e.y=t.top+t.height-this.labelHeight):"top"==this.position?(e.x=t.left+t.width/2-this.labelWidth/2,e.y=t.top):"left"==this.position?(e.degrees=-90,e.x=t.left-this.labelWidth/2+this.labelHeight/2,e.y=t.height/2+t.top):"right"==this.position&&(e.degrees=90,e.x=t.left+t.width-this.labelWidth/2-this.labelHeight/2,e.y=t.height/2+t.top),e},s.prototype.draw=function(e){this.plot.getPlaceholder().find("."+this.axisName+"Label").remove();var i=this.calculateOffsets(e);this.elem=t('<div class="axisLabels '+this.axisName+'Label" style="position:absolute; color: '+this.opts.color+"; "+this.transforms(i.degrees,i.x,i.y)+'">'+this.opts.axisLabel+"</div>"),this.plot.getPlaceholder().append(this.elem)},l.prototype=new s,l.prototype.constructor=l,l.prototype.transforms=function(t,e,i){var n="";if(0!=t){for(var o=t/90;o<0;)o+=4;n+=" filter: progid:DXImageTransform.Microsoft.BasicImage(rotation="+o+"); ",this.requiresResize="right"==this.position}return 0!=e&&(n+="left: "+e+"px; "),0!=i&&(n+="top: "+i+"px; "),n},l.prototype.calculateOffsets=function(t){var e=s.prototype.calculateOffsets.call(this,t);return"top"==this.position?e.y=t.top+1:"left"==this.position?(e.x=t.left,e.y=t.height/2+t.top-this.labelWidth/2):"right"==this.position&&(e.x=t.left+t.width-this.labelHeight,e.y=t.height/2+t.top-this.labelWidth/2),e},l.prototype.draw=function(t){s.prototype.draw.call(this,t),this.requiresResize&&(this.elem=this.plot.getPlaceholder().find("."+this.axisName+"Label"),this.elem.css("width",this.labelWidth),this.elem.css("height",this.labelHeight))},t.plot.plugins.push({init:h,options:u,name:"axisLabels",version:"2.0"})}(jQuery),function(t){function e(e){function i(t,e){e.xaxis.insertGaps&&t.hooks.processRawData.push(o)}function n(e,i){if(r.xaxis.gapColor){var n=r.xaxis.gaps,o=e.getAxes().xaxis.p2c,a=e.getPlotOffset(),s=e.getPlaceholder(),l=s.width()-a.left-a.right,h=s.height();n&&(i.fillStyle=r.xaxis.gapColor,t.each(n,function(t,e){var n,r;n=o(e.start),r=o(e.end),n<0&&(n=0),r<0&&(r=0),n>l&&(n=l),r>l&&(r=l),n!=r&&i.fillRect(n+a.left,a.top,r-n,h-a.bottom-a.top)}))}}function o(t,e,i,n){if(e.xGapThresh){for(var o=-1,a=[],s=0,l=e.xGapThresh,h=[],u=0;u<i.length;u++){if(null==i[u][0])return;o!=-1&&i[u][0]-o>l&&(a.push(u+s),s++),o=i[u][0]}for(var u=0;u<a.length;u++)i.splice(a[u],0,[null,null]);for(var u=0;u<i.length;u++)null==i[u][0]&&i[u-1]&&i[u+1]&&h.push({start:i[u-1][0],end:i[u+1][0]});r.xaxis.gaps=h}}var r=e.getOptions();e.hooks.processOptions.push(i),e.hooks.draw.push(n)}var i={xaxis:{insertGaps:!1,gapColor:void 0}};t.plot.plugins.push({init:e,options:i,name:"xgapthreshold",version:"0.3"})}(jQuery),function(t){function e(t){function e(t,e,o){var a,s=null;if(i(e))if(c(e),n(t),r(t),u(e),b>=2){var l=f(e),h=0;a=d(),h=p(l)?-1*m(x,l-1,Math.floor(b/2)-1)-a:m(x,Math.ceil(b/2),l-2)+a+2*y,s=g(o,e,h),o.points=s}else 1==b&&(a=-1*d(),s=g(o,e,a),o.points=s);return s}function i(t){return null!==t.bars&&t.bars.show&&null!==t.bars.order}function n(t){var e=M?t.getPlaceholder().innerHeight():t.getPlaceholder().innerWidth(),i=M?o(t.getData(),1):o(t.getData(),0),n=i[1]-i[0];k=n/e}function o(t,e){for(var i=[],n=0;n<t.length;n++)i[0]=t[n].data[0][e],i[1]=t[n].data[t[n].data.length-1][e];return"string"==typeof i[0]&&(i[0]=0,i[1]=t[0].data.length-1),i}function r(t){x=a(t.getData()),b=x.length}function a(t){for(var e=[],i=0;i<t.length;i++)null!==t[i].bars.order&&t[i].bars.show&&e.push(t[i]);return s(e)}function s(t){var e=t.length;do{for(var i=0;i<e-1;i++)if(t[i].bars.order>t[i+1].bars.order){var n=t[i];t[i]=t[i+1],t[i+1]=n}else if(t[i].bars.order==t[i+1].bars.order){var o;t[i].sameSeriesArrayIndex?void 0!==t[i+1].sameSeriesArrayIndex&&(o=t[i].sameSeriesArrayIndex,t[i+1].sameSeriesArrayIndex=o,w[o].push(t[i+1]),w[o].sort(l),t[i]=w[o][0],h(t,i+1)):t[i+1].sameSeriesArrayIndex?void 0!==t[i].sameSeriesArrayIndex&&(o=t[i+1].sameSeriesArrayIndex,t[i].sameSeriesArrayIndex=o,w[o].push(t[i]),w[o].sort(l),t[i]=w[o][0],h(t,i+1)):(o=w.length,w[o]=[],t[i].sameSeriesArrayIndex=o,t[i+1].sameSeriesArrayIndex=o,w[o].push(t[i]),w[o].push(t[i+1]),w[o].sort(l),t[i]=w[o][0],h(t,i+1)),i--,e--}e-=1}while(e>1);for(var i=0;i<t.length;i++)t[i].sameSeriesArrayIndex&&(T[t[i].sameSeriesArrayIndex]=i);return t}function l(t,e){var i=t.bars.barWidth?t.bars.barWidth:1,n=e.bars.barWidth?e.bars.barWidth:1;return i<n?-1:i>n?1:0}function h(t,e,i){var n=t.slice((i||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,n),t}function u(t){v="number"==typeof t.bars.lineWidth?t.bars.lineWidth:2,y=v*k}function c(t){t.bars.horizontal&&(M=!0)}function f(t){var e=0;if(t.sameSeriesArrayIndex)e=T[t.sameSeriesArrayIndex];else for(var i=0;i<x.length;++i)if(t==x[i]){e=i;break}return e+1}function d(){var t=0;return b%2!==0&&(t=x[Math.floor(b/2)].bars.barWidth/2),t}function p(t){return t<=Math.ceil(b/2)}function m(t,e,i){for(var n=0,o=e;o<=i;o++)n+=t[o].bars.barWidth+2*y;return n}function g(t,e,i){for(var n=t.pointsize,o=t.points,r=0,a=M?1:0;a<o.length;a+=n)o[a]+=i,e.data[r][3]=o[a],r++;return o}var x,b,v,y,T=[],w=[],k=1,M=!1;t.hooks.processDatapoints.push(e)}var i={series:{bars:{order:null}}};t.plot.plugins.push({init:e,options:i,name:"orderBars",version:"0.2"})}(jQuery),function(){"use strict";var root=this,timezoneJS={};"function"==typeof define&&define.amd?define(function(){return timezoneJS}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=timezoneJS),exports.timezoneJS=timezoneJS):root.timezoneJS=timezoneJS,timezoneJS.VERSION="0.4.11";for(var ajax_lib=root.$||root.jQuery||root.Zepto,fleegix=root.fleegix,DAYS=timezoneJS.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],MONTHS=timezoneJS.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],SHORT_MONTHS={},SHORT_DAYS={},EXACT_DATE_TIME={},i=0;i<MONTHS.length;i++)SHORT_MONTHS[MONTHS[i].substr(0,3)]=i;for(i=0;i<DAYS.length;i++)SHORT_DAYS[DAYS[i].substr(0,3)]=i;var _arrIndexOf=Array.prototype.indexOf||function(t){if(null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var o=n>=0?n:Math.max(i-Math.abs(n),0);o<i;o++)if(o in e&&e[o]===t)return o;return-1},_fixWidth=function(t,e){if("number"!=typeof t)throw"not a number: "+t;var i=t>1e3,n=t.toString(),o=n.length;if(i&&o>e)return n.substr(o-e,o);for(n=[n];o<e;)n.unshift("0"),o++;return n.join("")},_transport=function(t){if(t){if(!t.url)throw new Error("URL must be specified");if("async"in t||(t.async=!0),"undefined"==typeof window&&"function"==typeof require){var e=require("fs");if(t.async){if("function"!=typeof t.success)return;return t.error=t.error||console.error,e.readFile(t.url,"utf8",function(e,i){return e?t.error(e):t.success(i)})}return e.readFileSync(t.url,"utf8")}if(!(fleegix&&"undefined"!=typeof fleegix.xhr||ajax_lib&&"undefined"!=typeof ajax_lib.ajax))throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");return t.async?fleegix&&fleegix.xhr?fleegix.xhr.send({url:t.url,method:"get",handleSuccess:t.success,handleErr:t.error}):ajax_lib.ajax({url:t.url,dataType:"text",method:"GET",error:t.error,success:t.success}):fleegix&&fleegix.xhr?fleegix.xhr.doReq({url:t.url,async:!1}):ajax_lib.ajax({url:t.url,async:!1,dataType:"text"}).responseText}};timezoneJS.Date=function(){if(this===timezoneJS)throw"timezoneJS.Date object must be constructed with 'new'";var t=Array.prototype.slice.apply(arguments),e=null,i=null,n=[],o=!1;
"[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]),"string"==typeof t[t.length-1]&&(o=Date.parse(t[t.length-1].replace(/GMT[\+\-]\d+/,"")),(isNaN(o)||null===o)&&(i=t.pop()));var r=!1;switch(t.length){case 0:e=new Date;break;case 1:e=new Date(t[0]),"string"==typeof t[0]&&t[0].search(/[+-][0-9]{4}/)==-1&&t[0].search(/Z/)==-1&&t[0].search(/T/)==-1&&(r=!0);break;case 2:e=new Date(t[0],t[1]),r=!0;break;default:for(var a=0;a<7;a++)n[a]=t[a]||0;e=new Date(n[0],n[1],n[2],n[3],n[4],n[5],n[6]),r=!0}if(isNaN(e.getTime()))throw new Error("Invalid date");this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,this.date=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=i||null,r?this.setFromDateObjProxy(e):this.setFromTimeProxy(e.getTime(),i)},timezoneJS.Date.prototype={getDate:function(){return this.date},getDay:function(){return this._day},getFullYear:function(){return this.year},getMonth:function(){return this.month},getYear:function(){return this.year-1900},getHours:function(){return this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return this.minutes},getSeconds:function(){return this.seconds},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){return this._timeProxy+60*this.getTimezoneOffset()*1e3},getTimezone:function(){return this.timezone},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){if(this._useCache)return this._tzInfo;var t;return t=this.timezone?"Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:"UTC"}:timezoneJS.timezone.getTzInfo(this._timeProxy,this.timezone):{tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=t,this._useCache=!0,t},getUTCDateProxy:function(){var t=new Date(this._timeProxy);return t.setUTCMinutes(t.getUTCMinutes()+this.getTimezoneOffset()),t},setDate:function(t){return this.setAttribute("date",t),this.getTime()},setFullYear:function(t,e,i){return void 0!==i&&this.setAttribute("date",1),this.setAttribute("year",t),void 0!==e&&this.setAttribute("month",e),void 0!==i&&this.setAttribute("date",i),this.getTime()},setMonth:function(t,e){return this.setAttribute("month",t),void 0!==e&&this.setAttribute("date",e),this.getTime()},setYear:function(t){return t=Number(t),0<=t&&t<=99&&(t+=1900),this.setUTCAttribute("year",t),this.getTime()},setHours:function(t,e,i,n){return this.setAttribute("hours",t),void 0!==e&&this.setAttribute("minutes",e),void 0!==i&&this.setAttribute("seconds",i),void 0!==n&&this.setAttribute("milliseconds",n),this.getTime()},setMinutes:function(t,e,i){return this.setAttribute("minutes",t),void 0!==e&&this.setAttribute("seconds",e),void 0!==i&&this.setAttribute("milliseconds",i),this.getTime()},setSeconds:function(t,e){return this.setAttribute("seconds",t),void 0!==e&&this.setAttribute("milliseconds",e),this.getTime()},setMilliseconds:function(t){return this.setAttribute("milliseconds",t),this.getTime()},setTime:function(t){if(isNaN(t))throw new Error("Units must be a number.");return this.setFromTimeProxy(t,this.timezone),this.getTime()},setUTCFullYear:function(t,e,i){return void 0!==i&&this.setUTCAttribute("date",1),this.setUTCAttribute("year",t),void 0!==e&&this.setUTCAttribute("month",e),void 0!==i&&this.setUTCAttribute("date",i),this.getTime()},setUTCMonth:function(t,e){return this.setUTCAttribute("month",t),void 0!==e&&this.setUTCAttribute("date",e),this.getTime()},setUTCDate:function(t){return this.setUTCAttribute("date",t),this.getTime()},setUTCHours:function(t,e,i,n){return this.setUTCAttribute("hours",t),void 0!==e&&this.setUTCAttribute("minutes",e),void 0!==i&&this.setUTCAttribute("seconds",i),void 0!==n&&this.setUTCAttribute("milliseconds",n),this.getTime()},setUTCMinutes:function(t,e,i){return this.setUTCAttribute("minutes",t),void 0!==e&&this.setUTCAttribute("seconds",e),void 0!==i&&this.setUTCAttribute("milliseconds",i),this.getTime()},setUTCSeconds:function(t,e){return this.setUTCAttribute("seconds",t),void 0!==e&&this.setUTCAttribute("milliseconds",e),this.getTime()},setUTCMilliseconds:function(t){return this.setUTCAttribute("milliseconds",t),this.getTime()},setFromDateObjProxy:function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.date=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this._day=t.getDay(),this._dateProxy=t,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(t,e){var i=new Date(t),n=e?timezoneJS.timezone.getTzInfo(t,e,!0).tzOffset:i.getTimezoneOffset();i.setTime(t+6e4*(i.getTimezoneOffset()-n)),this.setFromDateObjProxy(i)},setAttribute:function(t,e){if(isNaN(e))throw new Error("Units must be a number.");var i=this._dateProxy,n="year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1);i["set"+n](e),this.setFromDateObjProxy(i)},setUTCAttribute:function(t,e){if(isNaN(e))throw new Error("Units must be a number.");var i="year"===t?"FullYear":t.substr(0,1).toUpperCase()+t.substr(1),n=this.getUTCDateProxy();n["setUTC"+i](e),n.setUTCMinutes(n.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(n.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(t){var e=this.getTimezoneInfo().tzOffset;this.timezone=t,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+e)},removeTimezone:function(){this.timezone=null,this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return this.timezone?new timezoneJS.Date(this.getTime(),this.timezone):new timezoneJS.Date(this.getTime())},toGMTString:function(){return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")},toLocaleString:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+"Z"},toJSON:function(){return this.toISOString()},toDateString:function(){return this.toString("EEE MMM dd yyyy")},toTimeString:function(){return this.toString("H:mm k")},toString:function(t,e){t||(t="yyyy-MM-dd HH:mm:ss");var i=t,n=e?timezoneJS.timezone.getTzInfo(this.getTime(),e):this.getTimezoneInfo(),o=this;e&&(o=this.clone(),o.setTimezone(e));var r=o.getHours();return i.replace(/a+/g,function(){return"k"}).replace(/y+/g,function(t){return _fixWidth(o.getFullYear(),t.length)}).replace(/d+/g,function(t){return _fixWidth(o.getDate(),t.length)}).replace(/m+/g,function(t){return _fixWidth(o.getMinutes(),t.length)}).replace(/s+/g,function(t){return _fixWidth(o.getSeconds(),t.length)}).replace(/S+/g,function(t){return _fixWidth(o.getMilliseconds(),t.length)}).replace(/h+/g,function(t){return _fixWidth(r%12===0?12:r%12,t.length)}).replace(/M+/g,function(t){var e=o.getMonth(),i=t.length;return i>3?timezoneJS.Months[e]:i>2?timezoneJS.Months[e].substring(0,i):_fixWidth(e+1,i)}).replace(/k+/g,function(){return r>=12?(r>12&&(r-=12),"PM"):"AM"}).replace(/H+/g,function(t){return _fixWidth(r,t.length)}).replace(/E+/g,function(t){return DAYS[o.getDay()].substring(0,t.length)}).replace(/Z+/gi,function(){return n.tzAbbr})},toUTCString:function(){return this.toGMTString()},civilToJulianDayNumber:function(t,e,i){var n;e++,e>12&&(n=parseInt(e/12,10),e%=12,t+=n),e<=2&&(t-=1,e+=12),n=Math.floor(t/100);var o=2-n+Math.floor(n/4),r=Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+i+o-1524;return r},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset()}},timezoneJS.timezone=new function(){function invalidTZError(t){throw new Error("Timezone '"+t+"' is either incorrect, or not loaded in the timezone registry.")}function builtInLoadZoneFile(t,e){var i=_this.zoneFileBasePath+"/"+t;return e&&e.async?_this.transport({async:!0,url:i,success:function(t){return _this.parseZones(t)&&"function"==typeof e.callback&&e.callback()},error:function(){throw new Error("Error retrieving '"+i+"' zoneinfo files")}}):_this.parseZones(_this.transport({url:i,async:!1}))}function getRegionForTimezone(t){var e,i,n=regionExceptions[t];if(n)return n;if(e=t.split("/")[0],i=regionMap[e])return i;var o=_this.zones[t];return"string"==typeof o?getRegionForTimezone(o):_this.loadedZones.backward?void invalidTZError(t):(_this.loadZoneFile("backward"),getRegionForTimezone(t))}function parseTimeString(t){var e=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,i=t.match(e);return i[1]=parseInt(i[1],10),i[2]=i[2]?parseInt(i[2],10):0,i[3]=i[3]?parseInt(i[3],10):0,i.slice(1,5)}function processZone(t){if(t[3]){var e=parseInt(t[3],10),i=11,n=31;t[4]&&(i=SHORT_MONTHS[t[4].substr(0,3)],n=parseInt(t[5],10)||1);var o=t[6]?parseTimeString(t[6]):[0,0,0];return[e,i,n,o[0],o[1],o[2]]}}function getZone(t,e){for(var i="number"==typeof t?t:new Date(t).getTime(),n=e,o=_this.zones[n];"string"==typeof o;)n=o,o=_this.zones[n];if(!o){if(!_this.loadedZones.backward)return _this.loadZoneFile("backward"),getZone(t,e);invalidTZError(n)}if(0===o.length)throw new Error("No Zone found for '"+e+"' on "+t);for(var r=o.length-1;r>=0;r--){var a=o[r];if(a[3]&&i>a[3])break}return o[r+1]}function getBasicOffset(t){var e=parseTimeString(t),i="-"===t.charAt(0)?-1:1;return e=i*(1e3*(60*(60*e[0]+e[1])+e[2])),e/60/1e3}function getAdjustedOffset(t,e){return-Math.ceil(e-t)}function getRule(t,e,i){var n="number"==typeof t?new Date(t):t,o=e[1],r=e[0],a=o.match(/^([0-9]):([0-9][0-9])$/);if(a)return[-1e6,"max","-","Jan",1,[0,0,0],60*parseInt(a[1],10)+parseInt(a[2],10),"-"];var s,l=function(t,e,i){var n=0;if("u"===e||"g"===e||"z"===e)n=0;else if("s"===e)n=r;else{if("w"!==e&&e)throw new Error("unknown type "+e);n=getAdjustedOffset(r,i[6])}return n*=6e4,new Date(t.getTime()+n)},h=function(t,e){var i,n=t[0],o=t[1],r=o[5];if(EXACT_DATE_TIME[n]||(EXACT_DATE_TIME[n]={}),EXACT_DATE_TIME[n][o])i=EXACT_DATE_TIME[n][o];else{if(isNaN(o[4])){var a,s;"last"===o[4].substr(0,4)?(i=new Date(Date.UTC(n,SHORT_MONTHS[o[3]]+1,1,r[0]-24,r[1],r[2],0)),a=SHORT_DAYS[o[4].substr(4,3)],s="<="):(i=new Date(Date.UTC(n,SHORT_MONTHS[o[3]],o[4].substr(5),r[0],r[1],r[2],0)),a=SHORT_DAYS[o[4].substr(0,3)],s=o[4].substr(3,2));var h=i.getUTCDay();">="===s?i.setUTCDate(i.getUTCDate()+(a-h+(a<h?7:0))):i.setUTCDate(i.getUTCDate()+(a-h-(a>h?7:0)))}else i=new Date(Date.UTC(n,SHORT_MONTHS[o[3]],o[4],r[0],r[1],r[2],0));EXACT_DATE_TIME[n][o]=i}return e&&(i=l(i,r[3],e)),i},u=function(t,e){for(var i=[],n=0;e&&n<e.length;n++)e[n][0]<=t&&(e[n][1]>=t||e[n][0]===t&&"only"===e[n][1]||"max"===e[n][1])&&i.push([t,e[n]]);return i},c=function(t,e,n){var o,r;return t instanceof Date?n&&(t=l(t,i?"u":"w",n)):(o=t[0],r=t[1],t=!n&&EXACT_DATE_TIME[o]&&EXACT_DATE_TIME[o][r]?EXACT_DATE_TIME[o][r]:h(t,n)),e instanceof Date?n&&(e=l(e,i?"u":"w",n)):(o=e[0],r=e[1],e=!n&&EXACT_DATE_TIME[o]&&EXACT_DATE_TIME[o][r]?EXACT_DATE_TIME[o][r]:h(e,n)),t=Number(t),e=Number(e),t-e},f=n.getUTCFullYear();s=u(f,_this.rules[o]),s.push(n),s.sort(c),_arrIndexOf.call(s,n)<2&&(s=s.concat(u(f-1,_this.rules[o])),s.sort(c));var d=_arrIndexOf.call(s,n);return d>1&&c(n,s[d-1],s[d-2][1])<0?s[d-2][1]:d>0&&d<s.length-1&&c(n,s[d+1],s[d-1][1])>0?s[d+1][1]:0===d?null:s[d-1][1]}function getAbbreviation(t,e){var i=t[2];if(i.indexOf("%s")>-1){var n;return n=e?"-"===e[7]?"":e[7]:"S",i.replace("%s",n)}return i.indexOf("/")>-1?i.split("/",2)[e&&e[6]?1:0]:i}var _this=this,regionMap={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},regionExceptions={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:"etcetera","Europe/Nicosia":"asia"};this.zoneFileBasePath=null,this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.getRegionForTimezone=getRegionForTimezone,this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(t){var e={async:!0},i=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile||"northamerica";for(var n in t)e[n]=t[n];return this.loadZoneFiles(i,e)},this.loadZoneFiles=function(t,e){var i,n=0;if("string"==typeof t)return this.loadZoneFile(t,e);e=e||{},i=e.callback,e.callback=function(){n++,n===t.length&&"function"==typeof i&&i()};for(var o=0;o<t.length;o++)this.loadZoneFile(t[o],e)},this.loadZoneFile=function(t,e){if("undefined"==typeof this.zoneFileBasePath)throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");if(!this.loadedZones[t])return this.loadedZones[t]=!0,builtInLoadZoneFile(t,e)},this.loadZoneJSONData=function(url,sync){var processData=function(data){data=eval("("+data+")");for(var z in data.zones)_this.zones[z]=data.zones[z];for(var r in data.rules)_this.rules[r]=data.rules[r]};return sync?processData(_this.transport({url:url,async:!1})):_this.transport({url:url,success:processData})},this.loadZoneDataFromObject=function(t){if(t){for(var e in t.zones)_this.zones[e]=t.zones[e];for(var i in t.rules)_this.rules[i]=t.rules[i]}},this.getAllZones=function(){var t=[];for(var e in this.zones)t.push(e);return t.sort()},this.parseZones=function(t){if(!t)return!1;for(var e,i=t.split("\n"),n=[],o="",r=null,a=null,s=0;s<i.length;s++)if(e=i[s],e.match(/^\s/)&&(e="Zone "+r+e),e=e.split("#")[0],e.length>3)switch(n=e.split(/\s+/),o=n.shift()){case"Zone":if(r=n.shift(),_this.zones[r]||(_this.zones[r]=[]),n.length<3)break;n.splice(3,n.length,processZone(n)),n[3]&&(n[3]=Date.UTC.apply(null,n[3])),n[0]=-getBasicOffset(n[0]),_this.zones[r].push(n);break;case"Rule":a=n.shift(),_this.rules[a]||(_this.rules[a]=[]),n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||n[1],n[5]=parseTimeString(n[5]),n[6]=getBasicOffset(n[6]),_this.rules[a].push(n);break;case"Link":if(_this.zones[n[1]])throw new Error("Error with Link "+n[1]+". Cannot create link of a preexisted zone.");isNaN(n[0])?_this.zones[n[1]]=n[0]:_this.zones[n[1]]=parseInt(n[0],10)}return!0},this.transport=_transport,this.getTzInfo=function(t,e,i){if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){var n=getRegionForTimezone(e);if(!n)throw new Error("Not a valid timezone ID.");this.loadZoneFiles(n)}var o=getZone(t,e),r=+o[0],a=getRule(t,o,i);a&&(r=getAdjustedOffset(r,a[6]));var s=getAbbreviation(o,a);return{tzOffset:r,tzAbbr:s}}}}.call("undefined"!=typeof window?window:this);